# Lab 2

> 本次lab目标：
>
> 1. 进一步规范编程习惯
> 2. 了解C标准库<math.h>
> 4. 使用编程解决实际问题



## 获取及提交lab

**获取**：通过 `https://github.com/fdu-20ss-programming-A/lab2`或者`超星平台`获取。

**提交**：超星平台上已经发布了LAB2作业，同学需要将每题的**代码**、**运行结果**、个人对题目的思考体会（可选）以**图片**或者**文档**（ word 或者 pdf ）的形式在超星LAB2对应的作业区域提交即可。

**提交物**：代码、运行结果，每题可整理为一份 word 或者 pdf 文档，也可以将两者截在一张图片上提交。

**截止时间**：2020年10月13日 23:59:59



## 1. lab1回顾

> LAB1我们学习并练习了C语言中的加减乘除运算，学习了如何定义宏常量，并当场演示了如何用GDB寻找程序的错误。

- **学会截图**

  在本次上传的作业文档中，还有一部分同学采取的是拍照上传将其插入文档的方式。

  For Windows：

  全屏截图——电脑最上面一排靠右有一个标有“PrtScr”的快捷键，直接按下后，剪贴板中会有当时的全屏截图，直接Ctrl+v或者鼠标右键-粘贴，将图片粘贴到文档中即可

  自定义尺寸截图——win+shift+s后屏幕会变灰表示已进入可截图状态，用鼠标选取截图区域

  For Mac:

  全屏截图——Command + Shift + 3，按下快捷键后直接就能听到一个简短的照相机快门声音，跟区域截图一样，在桌面可以看到一个格式为“.Png”的截图文件

  自定义尺寸截图——Command + Shift + 4，光标将变成一个小有刻着十字标尺线的十字线；单击并拖动鼠标来突出你想截图的区域。拖动光标，选区将会出现半透明灰色矩形；放开鼠标。你就会听到一个简短的照相机快门声音，这是一个截图完成信号，说明你截图成功了，在桌面即可看到格式为“.Png”的截图文件

- **代码要正确缩进**

  正确缩进的代码能显著地提高可读性，具体见于 [C语言代码规范（一）缩进与换行](https://blog.csdn.net/Dr_Haven/article/details/81868857)

- **学会简单地测试自己的程序**

  上机作业往往会给出一个简单的示例输入，但是仅仅依靠这一个输入就想检测程序的正确性显然是不太现实。对于一个程序，应该尽量多尝试几组具有不同性质的输入，这里的性质对于不同程序来说是不同的，以LAB1第一题计算三角形面积为例，示例输入的底和高的乘积为偶数，因此应该考虑用乘积为奇数的底和高来测试一下程序是否能正确运行。（对于第一题除法直接用乘积除以2的同学，如果尝试了乘积为奇数的情况，就会发现此时会自动取整）

### 第一题 - 计算三角形面积

题目

> 输入三角形的底和高，输出三角形的面积。

限制

> 底和高均为整数，面积保留两位小数。

示例

> 请输入三角形的底和高：10,5
>
> 三角形的面积为：25.00

出现的问题：

```c
1. 将底和高定义为浮点数
2. 由于除法自动取整导致的运算错误（除法参与运算的量均为整数时，结果为整数，自动舍去小数。如果运算量中有一个为浮点数，结果为浮点数）
```

参考答案：

```C
int main() { 
    int a,h; 
    printf("请输入三角形的底和高："); 
    scanf("%d,%d",&a,&h);	/* 不能有\n */ 
    float s = 0.5 * a * h; 
    printf("三角形的面积为：%.2f\n",s); 
    return 0; 
}
```



### 第二题 - 计算等差数列的和

题目

> 输入等差数列的首项、等差和总项数，输出等差数列的和

限制

> 首项，等差和总项数均为整数

示例

> 请输入等差数列的首项：1
>
> 请输入等差数列的等差：2
>
> 请输入等差数列的总项数：3
>
> 等差数列的和为：9

出现的问题：

```c
1. 等差数列公式写错
2. 使用循环相加求解
```

参考答案：

```C
int main() { 
    int a0,d,num; 
    printf("请输入等差数列的首项："); 
    scanf("%d",&a0); 
    printf("请输入等差数列的等差："); 
    scanf("%d",&d); 
    printf("请输入等差数列的总项数："); 
    scanf("%d",&num); 
    int sum = (2 * a0 + (num - 1) * d) * num / 2; 
    printf("等差数列的和为：%d\n",sum); 
    return 0; 
}
```



### 第三题 - 计算圆的周长和面积

题目

> 输入圆的半径，求圆的周长和面积。要求定义以下宏常量：
>
> \#define PI 3.14159

限制

> 圆的半径为整数，输出保留2位小数

示例

> 请输入圆的半径：1
>
> 圆的周长为6.28，圆的面积为3.14

出现的问题：

```c
1. 误以为 ^ （异或）是求平方的运算符
```

参考答案：

```C
#define PI 3.14159 

int main() { 
    int r; 
    printf("请输入圆的半径："); 
    scanf("%d",&r); 
    printf("圆的面积为%.2f,圆的周长为%.2f\n",PI * r * r,2 * PI * r); 
    return 0; 
}
```



### 第四题 - 计算和、乘积与平均数

题目

> 输入三个整数，输出三个整数的和，乘积与平均数。

限制

> 平均数保留两位小数

示例

> 请输入三个整数：1,2,3
>
> 三个整数的和为6，乘积为6，平均数为2.00

出现的问题：

```c
1. 由于除法自动取整导致的运算错误
```

参考答案：

```C
int main() { 
    int a,b,c; 
    printf("请输入三个整数："); 
    scanf("%d,%d,%d",&a,&b,&c); 
    int sum = a + b + c; 
    printf("三个数的和%d,乘积为%d,平均数为%.2f\n", sum, a * b * c, sum / 3.0); 
    return 0; 
}
```



### 第五题 - 温度转换

题目

> 温度转换：键盘读入华氏温度，输出摄氏温度。

限制

> 输入华氏温度为浮点数，输出摄氏温度保留两位小数

提示

> 华氏温度 = (9/5) * 摄氏温度 + 32

示例

> 请输入华氏温度：32.0
>
> 摄氏温度为0.00

出现的问题：

```c
1. 公式错误
	1.1 (f - 32) * (5 / 9)
	1.2 直接用了求华氏温度的公式
```

参考答案：

```C
int main() { 
    float c,f; 
    printf("请输入华氏温度："); 
    scanf("%f",&f); 
    c = (f - 32) * 5 / 9; 
    printf("摄氏温度为%.2f\n",c); 
    return 0; 
}
```



## 2. C标准库 - <math.h>

> 在这次即将发布的作业中，我们将要用到math.h头文件中的函数，所以在这里会简单介绍一下其中几个函数的用法。

这个标准库定义了各种数学函数，库中所有可用的功能都带有一个**double**类型的参数，且都返回**double**类型的结果。

### 引入标准库

```c
#include <math.h>
```

最好在文件最开头就引入标准库。

只有引入库后，编译器才能正确识别程序对于库中函数的调用；否则编译阶段就会报错称程序中有未声明的函数。

### 部分库函数

| 函数                            | 描述                                  |
| ------------------------------- | ------------------------------------- |
| double log10(double x)          | 返回 x 的常用对数（基数为 10 的对数） |
| double log(double x)            | 返回 x 的自然对数（基数为 e 的对数）  |
| double exp(double x)            | 返回 e 的 x 次幂的值                  |
| double pow(double x, double y)  | 返回 x 的 y 次幂                      |
| double sqrt(double x)           | 返回 x 的平方根                       |
| double fabs(double x)           | 返回 x 的绝对值                       |
| double ceil(double x)           | 返回大于或等于 x 的最小的整数值       |
| double floor(double x)          | 返回小于或等于 x 的最大的整数值       |
| double fmod(double x, double y) | 返回 x 除以 y 的余数                  |

**fmod()函数与%取余符号的区别：**

%只用于整型的计算，且后一个数不能为0；

fmod()可以对浮点型数据进行取模运算，后一个数可以为0，此时返回NaN(Not a Number)



## 3. LAB2上机作业

> 上机作业建议每题单独写在XXX.c文件中。每题提交时只需要提交运行代码截图以及运行结果截图。可以直接截在**一张图片**中，也可以截多张图片**合并为一个文档**。运行结果我们建议同学测试多组测试数据，检查代码逻辑的正确性。

### Question 1

题目

>输入一个实数，输出它的绝对值。

限制

>实数为浮点数，输出结果保留三位小数。

示例

> 请输入实数：-2.4
>
> 该实数的绝对值为：2.400

### Question 2

题目

> 输入4个实数x~1~，y~1~，x~2~，y~2~，数据之间用空格隔开，表示两点坐标（x~1~，y~1~），（x~2~，y~2~）。计算并输出两点间的距离。

限制

> 实数为浮点数，输出结果保留两位小数

示例

> 请输入4个实数：1.0 2.0 3.0 4.0
>
> （1.0, 2.0）与（3.0, 4.0）两点之间的距离为：1.41

### Question 3

题目

> 输入三角形的三边长，输出三角形的面积
>
> 提示：用海伦公式

限制

> 三边长为浮点数，输出结果保留两位小数

示例

> 请输入三角形的三边长：3.0 4.0 5.0
>
> 三角形的面积为：6.00

### Question 4

题目

> 输入一元二次方程ax^2^+bx+c=0的系数a，b，c，假定满足b^2^-4ac>0，输出方程的两个根。

限制

> 系数均为整数，输出结果保留两位小数
>
> 两个根的输出顺序无要求

示例

> 请输入三个系数：1 1 -6
>
> 方程的两个根为：2.00，-3.00

### Question 5

题目

> 输入存款金额money，存期year和年利率rate，根据公式计算存款到期时的本息合计sum（税前）

限制

> 存款金额、存期为整数，年利率为浮点数，输出结果保留两位小数

提示

> sum = money * (1 + rate) ^year^

示例

> 请依次输入存款金额，存期和年利率：1000 2 0.1
>
> 存款到期时的本息合计为：1210.00
